streams:
    "4.12":
      type: mechanical
      variants: []
      src_config_ref: master
      cosa_image: "coreos-assembler:main"
    "4.11":
      type: mechanical
      cosa_image: "coreos-assembler:rhcos-4.11"
      skip_artifacts:
        s390x:
          - ibmcloud
    "4.10":
      type: mechanical
      cosa_image: "coreos-assembler:rhcos-4.10"
      skip_artifacts:
        aarch64:
          - azure
        ppc64le:
          - powervs
        s390x:
          - ibmcloud
    "4.9":
      type: mechanical
      cosa_image: "coreos-assembler:rhcos-4.9"
      skip_artifacts:
        aarch64:
          - azure
        ppc64le:
          - powervs
        s390x:
          - ibmcloud
        x86_64:
          - aliyun
          - nutanix
    "4.8":
      type: mechanical
      cosa_image: "coreos-assembler:rhcos-4.8"
      skip_artifacts:
        aarch64:
          - azure
          - openstack
        ppc64le:
          - powervs
        s390x:
          - ibmcloud
        x86_64:
          - aliyun
          - azurestack
          - nutanix
    "4.7":
      type: mechanical
      cosa_image: "coreos-assembler:rhcos-4.7"
      skip_artifacts:
        ppc64le:
          - powervs
        s390x:
          - ibmcloud
        x86_64:
          - aliyun
          - azurestack
          - nutanix
    "4.6":
      type: mechanical
      cosa_image: "coreos-assembler:rhcos-4.6"
      skip_artifacts:
        ppc64le:
          - powervs
        s390x:
          - ibmcloud
        x86_64:
          - aliyun
          - azurestack
          - ibmcloud
          - nutanix
# additional_arches: [aarch64, ppc64le, s390x]
additional_arches: [ppc64le, s390x]

source_config:
  url: https://github.com/openshift/os
  ref: release-${STREAM}
  yumrepos: https://gitlab.cee.redhat.com/coreos/redhat-coreos.git


default_artifacts:
  all:
    - metal
    - metal4k
    - live
    - openstack
    - legacy-oscontainer
    - extensions-container
  aarch64:
    - aws
    - azure
  ppc64le:
    - powervs
  s390x:
    - dasd
    - ibmcloud
  x86_64:
    - aliyun
    - aws
    - azure
    - azurestack
    - gcp
    - ibmcloud
    - nutanix
    - vmware

# remove to disable S3 uploads
s3_bucket: rhcos-ci
# path: releases/4.11-devel

registry_repos:
  oscontainer: registry.ci.openshift.org/rhcos-devel/machine-os-content

clouds:
  aws:
    bucket: rhcos-ci/testing/amis
    primary_region: us-east-1
  azure:
    resource_group: os4-common
    storage_account: rhcoshorcruxes
    storage_container: imagebucket
  gcp:
    bucket: rhcos-devel/devel/rhcos
    public: true
    licenses:
      - "https://compute.googleapis.com/compute/v1/projects/vm-options/global/licenses/enable-vmx"
